<!doctype html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">


  <link rel="icon" type="image/png" sizes="32x32" href="https://res.cloudinary.com/deo07tbou/image/upload/">
  <link rel="icon" type="image/x-icon" href="https://res.cloudinary.com/deo07tbou/image/upload/">
  <link rel="apple-touch-icon" href="https://res.cloudinary.com/deo07tbou/image/upload/">
  <link rel="canonical" href="https://www.juanorozco.com/blog/2009/hacking-wordpress-shortened-links-and-twitter-tools/">
<link rel="preload" as="style" href="/bundle.css?v=1737178751" media="all">
<link rel="stylesheet" href="/bundle.css?v=1737178751" media="all">
<style>.cdata pre{background-color:#1f2937;color:#e5e7eb}.cdata :not(pre)>code{background-color:#f3f4f6;color:#7c3aed}.chroma .err{background-color:#991b1b;color:#fecaca}.chroma .hl{background-color:#374151}.chroma .ln{color:#9ca3af}.chroma .k,.chroma .kc,.chroma .kd,.chroma .kn,.chroma .kp,.chroma .kr{color:#60a5fa}.chroma .kt{color:#a78bfa}.chroma .na,.chroma .nb{color:#fbbf24}.chroma .nc{color:#f87171}.chroma .no{color:#34d399}.chroma .nd{color:#f87171}.chroma .ne{color:#f87171}.chroma .nf{color:#fbbf24}.chroma .nt{color:#f87171}.chroma .l{color:#a78bfa}.chroma .dl,.chroma .ld,.chroma .s,.chroma .s2,.chroma .sa,.chroma .sb,.chroma .sc,.chroma .sd{color:#34d399}.chroma .se{color:#9ca3af}.chroma .s1,.chroma .sh,.chroma .si,.chroma .sr,.chroma .ss,.chroma .sx{color:#34d399}.chroma .il,.chroma .m,.chroma .mb,.chroma .mf,.chroma .mh,.chroma .mi,.chroma .mo{color:#a78bfa}.chroma .o,.chroma .ow{color:#93c5fd}.chroma .c,.chroma .c1,.chroma .ch,.chroma .cm,.chroma .cp,.chroma .cpf,.chroma .cs,.chroma .p{color:#9ca3af}.chroma .ge{font-style:italic}.chroma .gs{font-weight:700}
</style>



<title>Hacking WordPress shortened links and Twitter Tools : Juan Orozco</title>

<meta property="og:title" content="Hacking WordPress shortened links and Twitter Tools">
<meta property="og:site_name" content="Juan Orozco">
<meta property="og:url" content="https://www.juanorozco.com/blog/2009/hacking-wordpress-shortened-links-and-twitter-tools/">
<link rel="image_src" href="https://res.cloudinary.com/deo07tbou/image/upload/">
<meta property="og:image" content="https://res.cloudinary.com/deo07tbou/image/upload/">
<meta property="og:image:width" content="">
<meta property="og:image:height" content="">
<meta property="og:type" content="article">
<meta property="og:locale" content="en_us">
<meta property="og:description" content="This shortened URL business really has gotten out of hand. Morning Toast wrote a rant about it a few days ago and it got me thinking about their usefulness. He also twittered about Flickr&#39;s own URL shortener as well. Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it&#39;s context; it is a Flickr image.">
<meta name="description" content="This shortened URL business really has gotten out of hand. Morning Toast wrote a rant about it a few days ago and it got me thinking about their usefulness. He also twittered about Flickr&#39;s own URL shortener as well. Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it&#39;s context; it is a Flickr image.">
<meta property="og:updated_time" content="2009-06-01T17:22:04Z">
<meta property="fb:app_id" content="">
<meta name="author" content="Juan Orozco">
<meta property="article:author" content="https://juanorozco.com/">
<meta property="article:published_time" content="2009-06-01T17:22:04Z">
<meta property="article:modified_time" content="2009-06-01T17:22:04Z">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Hacking WordPress shortened links and Twitter Tools",
  "alternativeHeadline": "This shortened URL business really has gotten out of hand. Morning Toast wrote a rant about it a few days ago and it got me thinking about their usefulness. He also twittered about Flickr's own URL shortener as well. Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it's context; it is a Flickr image.",
  "url": "https://www.juanorozco.com/blog/2009/hacking-wordpress-shortened-links-and-twitter-tools/",
  "image": "https://res.cloudinary.com/deo07tbou/image/upload/",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://www.juanorozco.com/blog/2009/hacking-wordpress-shortened-links-and-twitter-tools/"
  },
  "description": "This shortened URL business really has gotten out of hand. Morning Toast wrote a rant about it a few days ago and it got me thinking about their usefulness. He also twittered about Flickr's own URL shortener as well. Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it's context; it is a Flickr image.",
  "author": {
    "@type": "Person",
    "name": "Juan Orozco"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Juan Orozco",
    "logo": {
      "@type": "ImageObject",
      "url": "https://res.cloudinary.com/deo07tbou/image/upload/"
    }
  },
  "datePublished": "2009-06-01T17:22:04Z",
  "dateModified": "2009-06-01T17:22:04Z",
  "articleBody": "\u003cp\u003eThis shortened URL business really has gotten out of hand.  \u003ca href=\"http://www.morningtoast.com/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eMorning Toast\u003c/a\u003e \u003ca href=\"http://www.morningtoast.com/2009/05/why-tiny-urls-change-how-we-design/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ewrote a rant\u003c/a\u003e about it a few days ago and it got me thinking about their usefulness.  He also twittered about \u003ca href=\"http://www.flickr.com/groups/flickrideas/discuss/72157616526758077/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eFlickr's own URL shortener\u003c/a\u003e as well.  Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it's context; it is a Flickr image.\u003c/p\u003e\n\u003cp\u003eI found out about this idea of using \u0026quot;\u003ca href=\"http://revcanonical.appspot.com/\"\u003erev=canonical\u003c/a\u003e\u0026quot; within a link.  I'm still trying to understand the whole concept: essentially if a link is created, a shortener service checks if the link owner has already shortened it.  If the owner has indeed shortened it, the shortener service will provide the owner's short URL to the request-or.  That's way to complicated for me, but it would be nice have my own shortened links when I post them to a service like Twitter.\u003c/p\u003e\n\u003cp\u003eThen it hit me.\u003c/p\u003e\n\u003cp\u003eI remembered that when you first install WordPress, \u0026quot;pretty\u0026quot; permalinks are deactivated.  Running in this default mode, a post link looks like this: \u003ca href=\"http://guamaso.com/?p=293\"\u003ehttp://guamaso.com/?p=293\u003c/a\u003e.  It still doesn't have the context of the post itself, but at least now you know that it is related to The Guamaso.  It may not be shorter than \u003ca href=\"http://bit.ly/1m4Qp\"\u003ehttp://bit.ly/1m4Qp\u003c/a\u003e, but the added context is worth it to me.\u003c/p\u003e\n\u003cp\u003eSo how do I implement this \u0026quot;built-in shortener?\u0026quot;  I use Twitter Tools to automatically send a blog post to Twitter.  Why not use Twitter Tools to send the short URL instead of the pretty URL!  I changed a few things on line 466:\u003c/p\u003e\n\u003cp\u003e**$shorturl = get_bloginfo('url');\u003c/p\u003e\n\u003cp\u003e$shorturl .= \u0026quot;/?p=\u0026quot;;\u003c/p\u003e\n\u003cp\u003e$shorturl .= $post_id;**\u003c/p\u003e\n\u003cp\u003eLINE 466: $url = apply_filters('tweet_blog_post_url', **$shorturl**);\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eUPDATE: The items in bold are what I changed / added.\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eI sent a a test \u0026quot;twit\u0026quot; to Twitter earlier and it worked (actually, I initially forgot to add the \u0026quot;p\u0026quot; but it's in there now.).  So instead of passing the full permalink that will get shortened by Twitter anyway, it now sends the shorter WordPress URL that starts with my domain name.  Boom.\u003c/p\u003e\n\u003cp\u003eI don't think a reader can find the post's ID without direct access to the Admin area, so providing this short link for the reader to use is the \u003cem\u003ekey\u003c/em\u003e to making this method successful.  I'd also like to see more plugins that use these shorter links when posting to Twitter.  It makes way more sense then letting Twitter make the decision.  On the other hand, blogs that post 10+ entries a day may out grow it in a few years... but hey, maybe by then we'll jump to the next social trend anyway.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eUPDATE 2: Scratch everything I just said!  Don't edit Twitter Tools, instead download the \u003ca title=\"Twitter Friendly Links Plug In\" href=\"http://kovshenin.com/wordpress/plugins/twitter-friendly-links/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003eTwitter Friendly Links plug-in\u003c/a\u003e.  It works with rev=canonical, Twitter Tools, and it will also add the short link on your posts for your readers.  The best part is it will make the link shorter than with the hack I explained above.  Instead of \u003ca href=\"/blog/?p=293\"\u003ehttp://guamaso.com/?p=293\u003c/a\u003e it will be \u003ca href=\"/blog/?p=293\"\u003e\u003c/a\u003e\u003ca href=\"/293\"\u003ehttp://guamaso.com/293\u003c/a\u003e. Good plugin, give it a try!\u003c/strong\u003e\u003c/p\u003e"
}
</script>

<link rel="preload" as="script" href="/bundle.js?v=1737178751">


</head>
<body>

  <header id="nav" class="header">
  <div class="ax-l-i max-w-6xl">
    <div class="ax-logo">
      <a class="block" href="/" title="Juan Orozco"><span class="font-semibold text-raven-900">Juan Orozco</span></a>
    </div>
    <div class="ax-user">
      <a class="p-2 w-8 h-8 block text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" target="_blank" rel="noopener nofollow" href="https://www.google.com/search?q=site:juanorozco.com" title="">
        <svg class="fill-current" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2.67 12.804c0-5.6 4.544-10.134 10.133-10.134s10.134 4.544 10.134 10.134-4.544 10.133-10.134 10.133S2.67 18.393 2.67 12.804zm28.943 16.923l-8.868-8.868c4.287-5.3 3.68-13.012-1.378-17.57S8.564-1.066 3.75 3.75s-5.017 12.558-.46 17.618 12.28 5.665 17.57 1.378l8.868 8.868a1.33 1.33 0 0 0 2.231-.597c.123-.46-.008-.952-.345-1.29h0z"/></svg>

      </a>
      <a class="p-2 block text-base leading-none text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/now/">
        Now
      </a>
      <a class="p-2 block text-base leading-none text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/blog/">
        Blog
      </a>
      <a class="p-2 block text-base leading-none text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/docs/">
        Docs
      </a>
      <a class="p-2 block text-base leading-none text-raven-500 hover:text-gray-800 focus:text-gray-800 focus:outline-none" href="/photography/">
        Photography
      </a>
    </div>
  </div>

  
</header>

  <main>
<div class="default-single">
  <div class="ax-title ax-l-o">
    <div class="ax-l-i max-w-680">
      <h1 class="post-title font-content-title font-normal leading-tight tracking-default text-40">Hacking WordPress shortened links and Twitter Tools</h1>

      <div class="ax-meta flex items-center mt-5">
        <div class="flex-grow min-w-0">
          <div class="flex items-center">
  <div class="flex-shrink-0">
    <img
    class="w-12 h-12 sm:w-14 sm:h-14 object-cover p-3px rounded-full border border-blue-300"
    src="https://res.cloudinary.com/deo07tbou/image/upload/v1584979170/juan-orozco-com/juan-orozco.jpg"
    alt="Juan Orozco">
  </div>
  <div class="flex-shrink-0 ml-2 leading-tight font-content-sans">
    <a class="block text-sm text-raven-800 hover:text-raven-900 hover:underline focus:underline" target="_blank" rel="noopener nofollow" title="Juan Orozco" href="https://juanorozco.com/">Juan Orozco</a>
    <time class="text-sm text-raven-500" datetime="2009-06-01T17:22:04Z">Jun 1, 2009 5:22PM</time>
  </div>
</div>

        </div>
        <div>
          <div class="flex items-center">
    <a class="flex-shrink-0 block text-raven-800 hover:text-raven-900" target="_blank" rel="noopener nofollow" title="" href="https://twitter.com/intent/tweet?text=Hacking%20WordPress%20shortened%20links%20and%20Twitter%20Tools%20by%20%40%25%21s%28%3cnil%3e%29%20https%3a%2f%2fwww.juanorozco.com%2fblog%2f2009%2fhacking-wordpress-shortened-links-and-twitter-tools%2f"><svg class="w-6 h-6 fill-current" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M32 6.078c-1.2.522-2.458.868-3.78 1.036 1.36-.812 2.398-2.088 2.886-3.626a13.11 13.11 0 0 1-4.16 1.588C25.742 3.794 24.026 3 22.154 3a6.56 6.56 0 0 0-6.556 6.562c0 .52.044 1.02.152 1.496-5.454-.266-10.28-2.88-13.522-6.862-.566.982-.898 2.106-.898 3.316a6.57 6.57 0 0 0 2.914 5.452 6.48 6.48 0 0 1-2.964-.808v.072c0 3.188 2.274 5.836 5.256 6.446-.534.146-1.116.216-1.72.216-.42 0-.844-.024-1.242-.112.85 2.598 3.262 4.508 6.13 4.57a13.18 13.18 0 0 1-8.134 2.798c-.538 0-1.054-.024-1.57-.1C2.906 27.93 6.35 29 10.064 29c12.072 0 18.672-10 18.672-18.668 0-.3-.01-.57-.024-.848C30.014 8.56 31.108 7.406 32 6.078z"/></svg>
</a>
    <a class="ml-3 flex-shrink-0 block text-raven-800 hover:text-raven-900" target="_blank" rel="noopener nofollow" title="" href="https://www.facebook.com/dialog/share?app_id=&display=page&href=https%3a%2f%2fwww.juanorozco.com%2fblog%2f2009%2fhacking-wordpress-shortened-links-and-twitter-tools%2f"><svg class="w-6 h-6 fill-current" viewBox="-7 -3.5 39 39" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M30.234 0H1.765C.8.001 0 .79 0 1.766v28.47C.001 31.2.79 32 1.766 32h15.328V19.625h-4.156V14.78h4.156v-3.564c0-4.134 2.523-6.384 6.21-6.384 1.766 0 3.284.13 3.726.2v4.32h-2.543c-2.006 0-2.394.953-2.394 2.352v3.085h4.797l-.625 4.844h-4.172V32h8.14C31.21 32 32 31.2 32 30.234V1.765C32 .8 31.21 0 30.234 0z"/></svg>
</a>
</div>
        </div>
      </div>
    </div>
  </div><div class="ax-content ax-l-o">
    <div class="ax-l-i max-w-680">
      <article class="cdata">
<p>This shortened URL business really has gotten out of hand.  <a href="http://www.morningtoast.com/" target="_blank" rel="noopener noreferrer">Morning Toast</a> <a href="http://www.morningtoast.com/2009/05/why-tiny-urls-change-how-we-design/" target="_blank" rel="noopener noreferrer">wrote a rant</a> about it a few days ago and it got me thinking about their usefulness.  He also twittered about <a href="http://www.flickr.com/groups/flickrideas/discuss/72157616526758077/" target="_blank" rel="noopener noreferrer">Flickr's own URL shortener</a> as well.  Although Flickr uses a different domain name for these shortened URLs, the link is still obvious about it's context; it is a Flickr image.</p>
<p>I found out about this idea of using &quot;<a href="http://revcanonical.appspot.com/">rev=canonical</a>&quot; within a link.  I'm still trying to understand the whole concept: essentially if a link is created, a shortener service checks if the link owner has already shortened it.  If the owner has indeed shortened it, the shortener service will provide the owner's short URL to the request-or.  That's way to complicated for me, but it would be nice have my own shortened links when I post them to a service like Twitter.</p>
<p>Then it hit me.</p>
<p>I remembered that when you first install WordPress, &quot;pretty&quot; permalinks are deactivated.  Running in this default mode, a post link looks like this: <a href="http://guamaso.com/?p=293">http://guamaso.com/?p=293</a>.  It still doesn't have the context of the post itself, but at least now you know that it is related to The Guamaso.  It may not be shorter than <a href="http://bit.ly/1m4Qp">http://bit.ly/1m4Qp</a>, but the added context is worth it to me.</p>
<p>So how do I implement this &quot;built-in shortener?&quot;  I use Twitter Tools to automatically send a blog post to Twitter.  Why not use Twitter Tools to send the short URL instead of the pretty URL!  I changed a few things on line 466:</p>
<p>**$shorturl = get_bloginfo('url');</p>
<p>$shorturl .= &quot;/?p=&quot;;</p>
<p>$shorturl .= $post_id;**</p>
<p>LINE 466: $url = apply_filters('tweet_blog_post_url', **$shorturl**);</p>
<p><strong>UPDATE: The items in bold are what I changed / added.</strong></p>
<p>I sent a a test &quot;twit&quot; to Twitter earlier and it worked (actually, I initially forgot to add the &quot;p&quot; but it's in there now.).  So instead of passing the full permalink that will get shortened by Twitter anyway, it now sends the shorter WordPress URL that starts with my domain name.  Boom.</p>
<p>I don't think a reader can find the post's ID without direct access to the Admin area, so providing this short link for the reader to use is the <em>key</em> to making this method successful.  I'd also like to see more plugins that use these shorter links when posting to Twitter.  It makes way more sense then letting Twitter make the decision.  On the other hand, blogs that post 10+ entries a day may out grow it in a few years... but hey, maybe by then we'll jump to the next social trend anyway.</p>
<p><strong>UPDATE 2: Scratch everything I just said!  Don't edit Twitter Tools, instead download the <a title="Twitter Friendly Links Plug In" href="http://kovshenin.com/wordpress/plugins/twitter-friendly-links/" target="_blank" rel="noopener noreferrer">Twitter Friendly Links plug-in</a>.  It works with rev=canonical, Twitter Tools, and it will also add the short link on your posts for your readers.  The best part is it will make the link shorter than with the hack I explained above.  Instead of <a href="/blog/?p=293">http://guamaso.com/?p=293</a> it will be <a href="/blog/?p=293"></a><a href="/293">http://guamaso.com/293</a>. Good plugin, give it a try!</strong></p>

      </article>
      

      

    </div>
  </div>
</div>

  </main>
  <footer class="footer">
  <div class="ax-l-i max-w-6xl">
    <nav class="flex items-center justify-center">
      <a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href="/blog/">Blog</a>
      <a class="ml-3 first:ml-0 text-sm text-gray-600 hover:text-gray-800" href="/now/">Now</a>
    </nav>

    <div class="footer-copyright text-sm text-center text-gray-400 mt-4">
      &#169; 2008-2025 Juan Orozco
    </div>
  </div>
</footer>

<script src="/bundle.js?v=1737178751"></script>


</body>
</html>
